<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Clarion</title>
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Quintessential&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1 class="title quintessential-regular">Clarion</h1>

  <!-- Blueprint Diagram -->
  <section id="diagram" aria-label="Clarion Blueprint">
    <svg viewBox="0 0 1200 700" role="img" aria-labelledby="diagramTitle diagramDesc">
      <title id="diagramTitle">Clarion — Reasoning OS Blueprint</title>
      <desc id="diagramDesc">Inputs converge to a Normalizer, then to a Meta Agent, Orchestrator, Agents, and Health & Tests. Task Map and Logs/Assumptions connect alongside.</desc>

      <!-- Defs: markers and glow -->
      <defs>
        <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
          <path d="M0,0 L10,5 L0,10 z" fill="#fff"/>
        </marker>
        <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">
          <feDropShadow dx="0" dy="0" stdDeviation="2" flood-color="#ffffff" flood-opacity="0.35"/>
        </filter>
      </defs>

      <!-- INPUT ICONS (abstract in lieu of real logos) -->
      <g class="module" transform="translate(40,90)">
        <title>Inputs — Logos/APIs/Docs/Code</title>
        <text x="0" y="-18" class="label">Inputs</text>
        <g class="inputIcon" transform="translate(0,0)">
          <circle cx="40" cy="40" r="24" class="icon"/>
          <text x="40" y="46" class="iconText">API</text>
        </g>
        <g class="inputIcon" transform="translate(0,90)">
          <rect x="16" y="16" width="48" height="48" rx="8" class="icon"/>
          <text x="40" y="48" class="iconText">LLM</text>
        </g>
        <g class="inputIcon" transform="translate(0,180)">
          <circle cx="40" cy="40" r="24" class="icon"/>
          <text x="40" y="46" class="iconText">DOC</text>
        </g>
        <g class="inputIcon" transform="translate(0,270)">
          <rect x="16" y="16" width="48" height="48" rx="8" class="icon"/>
          <text x="40" y="48" class="iconText">CODE</text>
        </g>
      </g>

      <!-- FUNNEL / NORMALIZER -->
      <g class="module" transform="translate(330,210)">
        <title>Normalizer — ingest, inspect, first-principles framing, assumption declaration, comparison & alignment</title>
        <polygon points="0,0 200,0 170,100 30,100" class="funnel" filter="url(#softGlow)"/>
        <text x="100" y="50" class="label center">Normalizer</text>
      </g>

      <!-- META AGENT -->
      <g class="module" transform="translate(560,220)">
        <title>Meta Agent — maintains global context, checks plans/assumptions, audits milestones, logs emergent assumptions</title>
        <rect x="0" y="0" width="210" height="90" rx="12" class="box" filter="url(#softGlow)"/>
        <text x="105" y="52" class="label center">Meta Agent</text>
      </g>

      <!-- LOGS & ASSUMPTIONS (above Meta) -->
      <g class="module" transform="translate(560,80)">
        <title>Logs & Assumptions — explicit assumptions, decisions, and context ledger</title>
        <rect x="0" y="0" width="210" height="80" rx="12" class="box thin" filter="url(#softGlow)"/>
        <text x="105" y="46" class="label center">Logs &amp; Assumptions</text>
      </g>

      <!-- TASK MAP (below Meta) -->
      <g class="module" transform="translate(560,360)">
        <title>Task Map — goals, milestones, working assumptions; shared by Meta Agent & Orchestrator</title>
        <rect x="0" y="0" width="210" height="90" rx="12" class="box thin" filter="url(#softGlow)"/>
        <text x="105" y="52" class="label center">Task Map</text>
      </g>

      <!-- ORCHESTRATOR -->
      <g class="module" transform="translate(820,220)">
        <title>Orchestrator — turns plans into agent tasks, sequences milestones, monitors execution</title>
        <rect x="0" y="0" width="230" height="90" rx="12" class="box" filter="url(#softGlow)"/>
        <text x="115" y="52" class="label center">Orchestrator</text>
      </g>

      <!-- AGENTS POOL -->
      <g class="module" transform="translate(1080,120)">
        <title>Agents Pool — specialized executors for code, data, UI, docs, integration, healing</title>
        <rect x="0" y="0" width="100" height="70" rx="10" class="box thin"/>
        <text x="50" y="42" class="label center small">Agent A</text>
        <rect x="0" y="100" width="100" height="70" rx="10" class="box thin"/>
        <text x="50" y="142" class="label center small">Agent B</text>
        <rect x="0" y="200" width="100" height="70" rx="10" class="box thin"/>
        <text x="50" y="242" class="label center small">Agent C</text>
      </g>

      <!-- HEALTH & TESTS -->
      <g class="module" transform="translate(820,360)">
        <title>Health & Tests — containerized checks, healing agents compare against assumptions</title>
        <rect x="0" y="0" width="230" height="90" rx="12" class="box thin" filter="url(#softGlow)"/>
        <text x="115" y="52" class="label center">Health &amp; Tests</text>
      </g>

      <!-- FLOW LINES (animated stroke-dashoffset) -->
      <!-- Inputs -> Normalizer (fan-in) -->
      <path class="flowline seq1" marker-end="url(#arrow)" d="M120,130 C220,130 260,170 330,220"/>
      <path class="flowline seq1" marker-end="url(#arrow)" d="M120,220 C220,220 260,220 330,220"/>
      <path class="flowline seq1" marker-end="url(#arrow)" d="M120,310 C220,310 260,270 330,220"/>
      <path class="flowline seq1" marker-end="url(#arrow)" d="M120,400 C220,400 270,330 330,300"/>

      <!-- Normalizer -> Meta -->
      <path class="flowline seq2" marker-end="url(#arrow)" d="M530,260 C545,260 550,260 560,265"/>

      <!-- Meta -> Orchestrator -->
      <path class="flowline seq3" marker-end="url(#arrow)" d="M770,265 C790,265 800,265 820,265"/>

      <!-- Orchestrator -> Agents (split) -->
      <path class="flowline seq4" marker-end="url(#arrow)" d="M1050,265 C1070,240 1080,210 1080,155"/>
      <path class="flowline seq4" marker-end="url(#arrow)" d="M1050,265 C1070,265 1080,265 1080,215"/>
      <path class="flowline seq4" marker-end="url(#arrow)" d="M1050,265 C1070,295 1080,325 1080,315"/>

      <!-- Agents -> Health & Tests -->
      <path class="flowline seq5" marker-end="url(#arrow)" d="M1130,155 C1120,155 1100,155 1035,400"/>
      <path class="flowline seq5" marker-end="url(#arrow)" d="M1130,215 C1100,215 1080,260 1035,400"/>
      <path class="flowline seq5" marker-end="url(#arrow)" d="M1130,315 C1100,315 1080,340 1035,400"/>

      <!-- Meta <-> Task Map & Logs -->
      <path class="flowline seq2" marker-end="url(#arrow)" d="M665,220 C665,170 665,150 665,120"/>
      <path class="flowline seq3" marker-end="url(#arrow)" d="M665,310 C665,340 665,360 665,360"/>

      <!-- Orchestrator -> Task Map (reads/writes) -->
      <path class="flowline seq3" marker-end="url(#arrow)" d="M820,265 C760,265 730,315 665,360"/>

    </svg>
  </section>

  <script src="script.js"></script>
</body>
</html>
